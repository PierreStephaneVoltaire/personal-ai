# =============================================================================
# AI Platform on k3s - Configuration
# Copy to terraform.tfvars and fill in your values
# =============================================================================

# AWS Configuration
aws_region   = "ca-central-1"
environment  = "dev"
project_name = "ai-platform"

# Domain for TLS (optional but recommended)
# Set up DNS delegation to Route53 for this domain
domain_name = ""  # e.g., "yourdomain.com"

# Networking - Restrict access (use your IP for security)
# Find your IP: curl ifconfig.me
allowed_cidr_blocks = ["0.0.0.0/0"]  # Change to ["YOUR_IP/32"]

# =============================================================================
# Instance Types
# =============================================================================
# Rancher server (on-demand, stable control plane)
# t4g.small = 2 vCPU, 2GB RAM (~$15/mo) - minimum for Rancher
rancher_instance_type = "t4g.small"

# k3s workers (spot, cost-effective)
# r7g.medium = 1 vCPU, 8GB RAM (~$15-20/mo spot) - good for AI workloads
worker_instance_type = "r7g.medium"
worker_count         = 1
worker_volume_size   = 50

# =============================================================================
# Database (External RDS for persistence)
# =============================================================================
db_instance_class    = "db.t4g.micro"  # ~$12/mo
db_allocated_storage = 20

# =============================================================================
# Storage
# =============================================================================
# S3 bucket for file uploads (survives spot termination)
s3_bucket_name = "pv-ai-bucket"  # Your existing bucket or new name
s3_key_prefix  = "openwebui/"

# =============================================================================
# REQUIRED: OpenRouter API Key
# =============================================================================
openrouter_api_key = "sk-or-v1-your-key-here"

# =============================================================================
# LiteLLM Configuration
# =============================================================================
litellm_master_key = ""  # Leave empty to auto-generate

# Models - define your own from OpenRouter
litellm_models = [
  {
    model_name       = "mistral-medium"
    litellm_provider = "openrouter"
    model_id         = "mistralai/mistral-medium"
  }
]

default_model = "mistralai/mistral-medium"

# =============================================================================
# OpenWebUI Configuration
# =============================================================================
openwebui_admin_email    = "admin@example.com"
openwebui_admin_password = ""  # Leave empty to auto-generate
openwebui_admin_name     = "Admin"

# =============================================================================
# Optional: MCP Server Tokens
# =============================================================================
github_token       = ""
google_maps_api_key = ""
